<div
	id="billing"
	class="billing animated fadeIn"
	layout="column">

  <span class="page-name">CREATE ORDER</span>

	<h4 ng-show="!$ctrl.hasPersonalInfo" class="personal-information__title">PERSONAL INFORMATION</h4>
	<form
	 	ng-show="!$ctrl.hasPersonalInfo"
		name="personalInformationForm"
		layout="column"
		class="personal-information-form form_1"
  	novalidate>
		<personal-information form-object="personalInformationForm" model="$ctrl.billingInfo"></personal-information>
	</form>

	<order-details order="$ctrl.orderDetails"></order-details>

	<h4 ng-show="!$ctrl.billingInfo.cards || $ctrl.billingInfo.cards.length == 0" class="billing-information__title">BILLING INFORMATION</h4>
	<form
		ng-show="!$ctrl.billingInfo.cards || $ctrl.billingInfo.cards.length == 0"
		name="billingInformationForm"
		layout="column"
		class="billing-information-form"
    novalidate>
		<card-info form-object="billingInformationForm" model="$ctrl.newCard"></card-info>
	</form>

  <card-list ng-if="$ctrl.billingInfo.cards.length > 0" cards="$ctrl.billingInfo.cards"></card-list>

	<section
		class="billing__buttons-group"
		layout="row"
		layout-align="space-between">
    <md-button
    	flex="50"
    	class="md-raised form_1__button form_1__button_primary"
    	ng-click="$ctrl.goToPreviousStep()">
    	Cancel
    </md-button>
    <md-button
    	flex="50"
    	class="md-raised md-accent form_1__button"
    	ng-disabled="(!$ctrl.hasPersonalInfo && personalInformationForm.$invalid) ||
    							 ((!$ctrl.billingInfo.cards || $ctrl.billingInfo.cards.length == 0) && billingInformationForm.$invalid) ||
    							 $ctrl.saveLoading"
    	ng-click="$ctrl.saveInfo()">
			Pay
	    <md-progress-circular
	    	md-mode="indeterminate"
	    	md-diameter="30"
	    	class="md-progress-circular_absolute md-progress-circular_dark"
	    	ng-if="$ctrl.saveLoading">
	    </md-progress-circular>
    </md-button>

	</section>

</div>

